<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@tyfkda">
    <meta name="twitter:title" content="C-compiler on a browser">
    <meta name="twitter:description" content="You can edit, compile and run C code on your browser!">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/tyfkda/xcc/main/memo/wcc.png">
    <meta name="twitter:player:height" content="512">
    <meta name="twitter:player:width" content="400">
    <title>C-compiler on WASM</title>
    <link rel="stylesheet" href="default.css">
  </head>

  <body>
    <div x-data="initialData" x-init="init()">
      <div class="full-size" style="position:absolute">
        <div class="header">
          <label class="nav-open" @click="onClickNavOpen"><span></span></label>
          <button class="run-btn" @click="runCode()" :disabled="!loaded">Run (⌘+⏎)</button>
          <span>Args: <input type="text" x-model="args"></span>
        </div>
        <div id="editor" class="editor"></div>
      </div>
      <div x-show="showSysmenu" @click="closeSysmenu()" class="sysmenu-container full-size" style="display:none; z-index:1000;">
        <div class="sysmenu-body" onclick="event.stopPropagation(); return true">
          <h4>Load example</h4>
          <select id="example-select" x-model="example">
            <option></option>
            <option value="hello">Hello</option>
            <option value="sieve">Sieve</option>
            <option value="qsort">Quick sort</option>
            <option value="aobench">AOBench</option>
          </select>

          <h4>File</h4>
          <template x-if="fileHandle">
            <div x-text="fileHandle.name"></div>
          </template>
          <div><a href="#" @click="newFile($event); return false">New</a></div>
          <template x-if="canAccessLocalFile">
            <div>
              <div><a href="#" @click="loadFile($event); return false">Load</a></div>
              <div><a href="#" @click="saveFile($event); return false" :disabled="!fileHandle">Save</a></div>
              <div><a href="#" @click="saveFileAs($event); return false">Save As...</a></div>
            </div>
          </template><template x-if="!canAccessLocalFile">
            <div><a href="#" @click="saveFile($event); return false">Save</a></div>
          </template>
          <a href="#" :href="shareUrl" x-bind:class="shareUrl ? '' : 'disabled'" @click="shareLink($event); return false">Share</a>

          <h4>About</h4>
          <a href="https://github.com/tyfkda/xcc" target="_blank" rel=”noopener noreferrer” @click="closeSysmenu()">Github</a>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.13/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.13/ext-split.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.js" defer></script>

    <script src="main.js" type="text/javascript"></script>
  </body>
</html>
